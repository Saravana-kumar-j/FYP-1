"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/ipfs-unixfs";
exports.ids = ["vendor-chunks/ipfs-unixfs"];
exports.modules = {

/***/ "(ssr)/./node_modules/ipfs-unixfs/esm/src/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ipfs-unixfs/esm/src/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnixFS: () => (/* binding */ UnixFS),\n/* harmony export */   parseMode: () => (/* binding */ parseMode),\n/* harmony export */   parseMtime: () => (/* binding */ parseMtime)\n/* harmony export */ });\n/* harmony import */ var err_code__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! err-code */ \"(ssr)/./node_modules/err-code/index.js\");\n/* harmony import */ var _unixfs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unixfs.js */ \"(ssr)/./node_modules/ipfs-unixfs/esm/src/unixfs.js\");\n\n\nconst PBData = _unixfs_js__WEBPACK_IMPORTED_MODULE_1__.Data;\nconst types = [\n  'raw',\n  'directory',\n  'file',\n  'metadata',\n  'symlink',\n  'hamt-sharded-directory'\n];\nconst dirTypes = [\n  'directory',\n  'hamt-sharded-directory'\n];\nconst DEFAULT_FILE_MODE = parseInt('0644', 8);\nconst DEFAULT_DIRECTORY_MODE = parseInt('0755', 8);\nfunction parseMode(mode) {\n  if (mode == null) {\n    return undefined;\n  }\n  if (typeof mode === 'number') {\n    return mode & 4095;\n  }\n  mode = mode.toString();\n  if (mode.substring(0, 1) === '0') {\n    return parseInt(mode, 8) & 4095;\n  }\n  return parseInt(mode, 10) & 4095;\n}\nfunction parseMtime(input) {\n  if (input == null) {\n    return undefined;\n  }\n  let mtime;\n  if (input.secs != null) {\n    mtime = {\n      secs: input.secs,\n      nsecs: input.nsecs\n    };\n  }\n  if (input.Seconds != null) {\n    mtime = {\n      secs: input.Seconds,\n      nsecs: input.FractionalNanoseconds\n    };\n  }\n  if (Array.isArray(input)) {\n    mtime = {\n      secs: input[0],\n      nsecs: input[1]\n    };\n  }\n  if (input instanceof Date) {\n    const ms = input.getTime();\n    const secs = Math.floor(ms / 1000);\n    mtime = {\n      secs: secs,\n      nsecs: (ms - secs * 1000) * 1000\n    };\n  }\n  if (!Object.prototype.hasOwnProperty.call(mtime, 'secs')) {\n    return undefined;\n  }\n  if (mtime != null && mtime.nsecs != null && (mtime.nsecs < 0 || mtime.nsecs > 999999999)) {\n    throw err_code__WEBPACK_IMPORTED_MODULE_0__(new Error('mtime-nsecs must be within the range [0,999999999]'), 'ERR_INVALID_MTIME_NSECS');\n  }\n  return mtime;\n}\nclass UnixFS {\n  static unmarshal(marshaled) {\n    const message = PBData.decode(marshaled);\n    const decoded = PBData.toObject(message, {\n      defaults: false,\n      arrays: true,\n      longs: Number,\n      objects: false\n    });\n    const data = new UnixFS({\n      type: types[decoded.Type],\n      data: decoded.Data,\n      blockSizes: decoded.blocksizes,\n      mode: decoded.mode,\n      mtime: decoded.mtime ? {\n        secs: decoded.mtime.Seconds,\n        nsecs: decoded.mtime.FractionalNanoseconds\n      } : undefined\n    });\n    data._originalMode = decoded.mode || 0;\n    return data;\n  }\n  constructor(options = { type: 'file' }) {\n    const {type, data, blockSizes, hashType, fanout, mtime, mode} = options;\n    if (type && !types.includes(type)) {\n      throw err_code__WEBPACK_IMPORTED_MODULE_0__(new Error('Type: ' + type + ' is not valid'), 'ERR_INVALID_TYPE');\n    }\n    this.type = type || 'file';\n    this.data = data;\n    this.hashType = hashType;\n    this.fanout = fanout;\n    this.blockSizes = blockSizes || [];\n    this._originalMode = 0;\n    this.mode = parseMode(mode);\n    if (mtime) {\n      this.mtime = parseMtime(mtime);\n      if (this.mtime && !this.mtime.nsecs) {\n        this.mtime.nsecs = 0;\n      }\n    }\n  }\n  set mode(mode) {\n    this._mode = this.isDirectory() ? DEFAULT_DIRECTORY_MODE : DEFAULT_FILE_MODE;\n    const parsedMode = parseMode(mode);\n    if (parsedMode !== undefined) {\n      this._mode = parsedMode;\n    }\n  }\n  get mode() {\n    return this._mode;\n  }\n  isDirectory() {\n    return Boolean(this.type && dirTypes.includes(this.type));\n  }\n  addBlockSize(size) {\n    this.blockSizes.push(size);\n  }\n  removeBlockSize(index) {\n    this.blockSizes.splice(index, 1);\n  }\n  fileSize() {\n    if (this.isDirectory()) {\n      return 0;\n    }\n    let sum = 0;\n    this.blockSizes.forEach(size => {\n      sum += size;\n    });\n    if (this.data) {\n      sum += this.data.length;\n    }\n    return sum;\n  }\n  marshal() {\n    let type;\n    switch (this.type) {\n    case 'raw':\n      type = PBData.DataType.Raw;\n      break;\n    case 'directory':\n      type = PBData.DataType.Directory;\n      break;\n    case 'file':\n      type = PBData.DataType.File;\n      break;\n    case 'metadata':\n      type = PBData.DataType.Metadata;\n      break;\n    case 'symlink':\n      type = PBData.DataType.Symlink;\n      break;\n    case 'hamt-sharded-directory':\n      type = PBData.DataType.HAMTShard;\n      break;\n    default:\n      throw err_code__WEBPACK_IMPORTED_MODULE_0__(new Error('Type: ' + type + ' is not valid'), 'ERR_INVALID_TYPE');\n    }\n    let data = this.data;\n    if (!this.data || !this.data.length) {\n      data = undefined;\n    }\n    let mode;\n    if (this.mode != null) {\n      mode = this._originalMode & 4294963200 | (parseMode(this.mode) || 0);\n      if (mode === DEFAULT_FILE_MODE && !this.isDirectory()) {\n        mode = undefined;\n      }\n      if (mode === DEFAULT_DIRECTORY_MODE && this.isDirectory()) {\n        mode = undefined;\n      }\n    }\n    let mtime;\n    if (this.mtime != null) {\n      const parsed = parseMtime(this.mtime);\n      if (parsed) {\n        mtime = {\n          Seconds: parsed.secs,\n          FractionalNanoseconds: parsed.nsecs\n        };\n        if (mtime.FractionalNanoseconds === 0) {\n          delete mtime.FractionalNanoseconds;\n        }\n      }\n    }\n    const pbData = {\n      Type: type,\n      Data: data,\n      filesize: this.isDirectory() ? undefined : this.fileSize(),\n      blocksizes: this.blockSizes,\n      hashType: this.hashType,\n      fanout: this.fanout,\n      mode,\n      mtime\n    };\n    return PBData.encode(pbData).finish();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaXBmcy11bml4ZnMvZXNtL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNHO0FBQ2xDLGVBQWUsNENBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUNBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QyxXQUFXLHVEQUF1RDtBQUNsRTtBQUNBLFlBQVkscUNBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFDQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kLW1hbmRhdGVzLy4vbm9kZV9tb2R1bGVzL2lwZnMtdW5peGZzL2VzbS9zcmMvaW5kZXguanM/ZjJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXJyY29kZSBmcm9tICdlcnItY29kZSc7XG5pbXBvcnQgKiBhcyBQYiBmcm9tICcuL3VuaXhmcy5qcyc7XG5jb25zdCBQQkRhdGEgPSBQYi5EYXRhO1xuY29uc3QgdHlwZXMgPSBbXG4gICdyYXcnLFxuICAnZGlyZWN0b3J5JyxcbiAgJ2ZpbGUnLFxuICAnbWV0YWRhdGEnLFxuICAnc3ltbGluaycsXG4gICdoYW10LXNoYXJkZWQtZGlyZWN0b3J5J1xuXTtcbmNvbnN0IGRpclR5cGVzID0gW1xuICAnZGlyZWN0b3J5JyxcbiAgJ2hhbXQtc2hhcmRlZC1kaXJlY3RvcnknXG5dO1xuY29uc3QgREVGQVVMVF9GSUxFX01PREUgPSBwYXJzZUludCgnMDY0NCcsIDgpO1xuY29uc3QgREVGQVVMVF9ESVJFQ1RPUllfTU9ERSA9IHBhcnNlSW50KCcwNzU1JywgOCk7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNb2RlKG1vZGUpIHtcbiAgaWYgKG1vZGUgPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBtb2RlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBtb2RlICYgNDA5NTtcbiAgfVxuICBtb2RlID0gbW9kZS50b1N0cmluZygpO1xuICBpZiAobW9kZS5zdWJzdHJpbmcoMCwgMSkgPT09ICcwJykge1xuICAgIHJldHVybiBwYXJzZUludChtb2RlLCA4KSAmIDQwOTU7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSW50KG1vZGUsIDEwKSAmIDQwOTU7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNdGltZShpbnB1dCkge1xuICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgbGV0IG10aW1lO1xuICBpZiAoaW5wdXQuc2VjcyAhPSBudWxsKSB7XG4gICAgbXRpbWUgPSB7XG4gICAgICBzZWNzOiBpbnB1dC5zZWNzLFxuICAgICAgbnNlY3M6IGlucHV0Lm5zZWNzXG4gICAgfTtcbiAgfVxuICBpZiAoaW5wdXQuU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgbXRpbWUgPSB7XG4gICAgICBzZWNzOiBpbnB1dC5TZWNvbmRzLFxuICAgICAgbnNlY3M6IGlucHV0LkZyYWN0aW9uYWxOYW5vc2Vjb25kc1xuICAgIH07XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgbXRpbWUgPSB7XG4gICAgICBzZWNzOiBpbnB1dFswXSxcbiAgICAgIG5zZWNzOiBpbnB1dFsxXVxuICAgIH07XG4gIH1cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIGNvbnN0IG1zID0gaW5wdXQuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHNlY3MgPSBNYXRoLmZsb29yKG1zIC8gMTAwMCk7XG4gICAgbXRpbWUgPSB7XG4gICAgICBzZWNzOiBzZWNzLFxuICAgICAgbnNlY3M6IChtcyAtIHNlY3MgKiAxMDAwKSAqIDEwMDBcbiAgICB9O1xuICB9XG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG10aW1lLCAnc2VjcycpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAobXRpbWUgIT0gbnVsbCAmJiBtdGltZS5uc2VjcyAhPSBudWxsICYmIChtdGltZS5uc2VjcyA8IDAgfHwgbXRpbWUubnNlY3MgPiA5OTk5OTk5OTkpKSB7XG4gICAgdGhyb3cgZXJyY29kZShuZXcgRXJyb3IoJ210aW1lLW5zZWNzIG11c3QgYmUgd2l0aGluIHRoZSByYW5nZSBbMCw5OTk5OTk5OTldJyksICdFUlJfSU5WQUxJRF9NVElNRV9OU0VDUycpO1xuICB9XG4gIHJldHVybiBtdGltZTtcbn1cbmNsYXNzIFVuaXhGUyB7XG4gIHN0YXRpYyB1bm1hcnNoYWwobWFyc2hhbGVkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IFBCRGF0YS5kZWNvZGUobWFyc2hhbGVkKTtcbiAgICBjb25zdCBkZWNvZGVkID0gUEJEYXRhLnRvT2JqZWN0KG1lc3NhZ2UsIHtcbiAgICAgIGRlZmF1bHRzOiBmYWxzZSxcbiAgICAgIGFycmF5czogdHJ1ZSxcbiAgICAgIGxvbmdzOiBOdW1iZXIsXG4gICAgICBvYmplY3RzOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgVW5peEZTKHtcbiAgICAgIHR5cGU6IHR5cGVzW2RlY29kZWQuVHlwZV0sXG4gICAgICBkYXRhOiBkZWNvZGVkLkRhdGEsXG4gICAgICBibG9ja1NpemVzOiBkZWNvZGVkLmJsb2Nrc2l6ZXMsXG4gICAgICBtb2RlOiBkZWNvZGVkLm1vZGUsXG4gICAgICBtdGltZTogZGVjb2RlZC5tdGltZSA/IHtcbiAgICAgICAgc2VjczogZGVjb2RlZC5tdGltZS5TZWNvbmRzLFxuICAgICAgICBuc2VjczogZGVjb2RlZC5tdGltZS5GcmFjdGlvbmFsTmFub3NlY29uZHNcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgICBkYXRhLl9vcmlnaW5hbE1vZGUgPSBkZWNvZGVkLm1vZGUgfHwgMDtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0geyB0eXBlOiAnZmlsZScgfSkge1xuICAgIGNvbnN0IHt0eXBlLCBkYXRhLCBibG9ja1NpemVzLCBoYXNoVHlwZSwgZmFub3V0LCBtdGltZSwgbW9kZX0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgdGhyb3cgZXJyY29kZShuZXcgRXJyb3IoJ1R5cGU6ICcgKyB0eXBlICsgJyBpcyBub3QgdmFsaWQnKSwgJ0VSUl9JTlZBTElEX1RZUEUnKTtcbiAgICB9XG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCAnZmlsZSc7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmhhc2hUeXBlID0gaGFzaFR5cGU7XG4gICAgdGhpcy5mYW5vdXQgPSBmYW5vdXQ7XG4gICAgdGhpcy5ibG9ja1NpemVzID0gYmxvY2tTaXplcyB8fCBbXTtcbiAgICB0aGlzLl9vcmlnaW5hbE1vZGUgPSAwO1xuICAgIHRoaXMubW9kZSA9IHBhcnNlTW9kZShtb2RlKTtcbiAgICBpZiAobXRpbWUpIHtcbiAgICAgIHRoaXMubXRpbWUgPSBwYXJzZU10aW1lKG10aW1lKTtcbiAgICAgIGlmICh0aGlzLm10aW1lICYmICF0aGlzLm10aW1lLm5zZWNzKSB7XG4gICAgICAgIHRoaXMubXRpbWUubnNlY3MgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzZXQgbW9kZShtb2RlKSB7XG4gICAgdGhpcy5fbW9kZSA9IHRoaXMuaXNEaXJlY3RvcnkoKSA/IERFRkFVTFRfRElSRUNUT1JZX01PREUgOiBERUZBVUxUX0ZJTEVfTU9ERTtcbiAgICBjb25zdCBwYXJzZWRNb2RlID0gcGFyc2VNb2RlKG1vZGUpO1xuICAgIGlmIChwYXJzZWRNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX21vZGUgPSBwYXJzZWRNb2RlO1xuICAgIH1cbiAgfVxuICBnZXQgbW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZTtcbiAgfVxuICBpc0RpcmVjdG9yeSgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnR5cGUgJiYgZGlyVHlwZXMuaW5jbHVkZXModGhpcy50eXBlKSk7XG4gIH1cbiAgYWRkQmxvY2tTaXplKHNpemUpIHtcbiAgICB0aGlzLmJsb2NrU2l6ZXMucHVzaChzaXplKTtcbiAgfVxuICByZW1vdmVCbG9ja1NpemUoaW5kZXgpIHtcbiAgICB0aGlzLmJsb2NrU2l6ZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICBmaWxlU2l6ZSgpIHtcbiAgICBpZiAodGhpcy5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgdGhpcy5ibG9ja1NpemVzLmZvckVhY2goc2l6ZSA9PiB7XG4gICAgICBzdW0gKz0gc2l6ZTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICBzdW0gKz0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbiAgfVxuICBtYXJzaGFsKCkge1xuICAgIGxldCB0eXBlO1xuICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgY2FzZSAncmF3JzpcbiAgICAgIHR5cGUgPSBQQkRhdGEuRGF0YVR5cGUuUmF3O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGlyZWN0b3J5JzpcbiAgICAgIHR5cGUgPSBQQkRhdGEuRGF0YVR5cGUuRGlyZWN0b3J5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmlsZSc6XG4gICAgICB0eXBlID0gUEJEYXRhLkRhdGFUeXBlLkZpbGU7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtZXRhZGF0YSc6XG4gICAgICB0eXBlID0gUEJEYXRhLkRhdGFUeXBlLk1ldGFkYXRhO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc3ltbGluayc6XG4gICAgICB0eXBlID0gUEJEYXRhLkRhdGFUeXBlLlN5bWxpbms7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoYW10LXNoYXJkZWQtZGlyZWN0b3J5JzpcbiAgICAgIHR5cGUgPSBQQkRhdGEuRGF0YVR5cGUuSEFNVFNoYXJkO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IGVycmNvZGUobmV3IEVycm9yKCdUeXBlOiAnICsgdHlwZSArICcgaXMgbm90IHZhbGlkJyksICdFUlJfSU5WQUxJRF9UWVBFJyk7XG4gICAgfVxuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGlmICghdGhpcy5kYXRhIHx8ICF0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsZXQgbW9kZTtcbiAgICBpZiAodGhpcy5tb2RlICE9IG51bGwpIHtcbiAgICAgIG1vZGUgPSB0aGlzLl9vcmlnaW5hbE1vZGUgJiA0Mjk0OTYzMjAwIHwgKHBhcnNlTW9kZSh0aGlzLm1vZGUpIHx8IDApO1xuICAgICAgaWYgKG1vZGUgPT09IERFRkFVTFRfRklMRV9NT0RFICYmICF0aGlzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgbW9kZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChtb2RlID09PSBERUZBVUxUX0RJUkVDVE9SWV9NT0RFICYmIHRoaXMuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICBtb2RlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbXRpbWU7XG4gICAgaWYgKHRoaXMubXRpbWUgIT0gbnVsbCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VNdGltZSh0aGlzLm10aW1lKTtcbiAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgbXRpbWUgPSB7XG4gICAgICAgICAgU2Vjb25kczogcGFyc2VkLnNlY3MsXG4gICAgICAgICAgRnJhY3Rpb25hbE5hbm9zZWNvbmRzOiBwYXJzZWQubnNlY3NcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG10aW1lLkZyYWN0aW9uYWxOYW5vc2Vjb25kcyA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBtdGltZS5GcmFjdGlvbmFsTmFub3NlY29uZHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGJEYXRhID0ge1xuICAgICAgVHlwZTogdHlwZSxcbiAgICAgIERhdGE6IGRhdGEsXG4gICAgICBmaWxlc2l6ZTogdGhpcy5pc0RpcmVjdG9yeSgpID8gdW5kZWZpbmVkIDogdGhpcy5maWxlU2l6ZSgpLFxuICAgICAgYmxvY2tzaXplczogdGhpcy5ibG9ja1NpemVzLFxuICAgICAgaGFzaFR5cGU6IHRoaXMuaGFzaFR5cGUsXG4gICAgICBmYW5vdXQ6IHRoaXMuZmFub3V0LFxuICAgICAgbW9kZSxcbiAgICAgIG10aW1lXG4gICAgfTtcbiAgICByZXR1cm4gUEJEYXRhLmVuY29kZShwYkRhdGEpLmZpbmlzaCgpO1xuICB9XG59XG5leHBvcnQge1xuICBVbml4RlNcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/ipfs-unixfs/esm/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/ipfs-unixfs/esm/src/unixfs.js":
/*!****************************************************!*\
  !*** ./node_modules/ipfs-unixfs/esm/src/unixfs.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Data: () => (/* binding */ Data),\n/* harmony export */   Metadata: () => (/* binding */ Metadata),\n/* harmony export */   UnixTime: () => (/* binding */ UnixTime),\n/* harmony export */   \"default\": () => (/* binding */ $root)\n/* harmony export */ });\n/* harmony import */ var protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! protobufjs/minimal.js */ \"(ssr)/./node_modules/protobufjs/minimal.js\");\n\nconst $Reader = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Reader, $Writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Writer, $util = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util;\nconst $root = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.roots['ipfs-unixfs'] || (protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.roots['ipfs-unixfs'] = {});\nconst Data = $root.Data = (() => {\n  function Data(p) {\n    this.blocksizes = [];\n    if (p)\n      for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n        if (p[ks[i]] != null)\n          this[ks[i]] = p[ks[i]];\n  }\n  Data.prototype.Type = 0;\n  Data.prototype.Data = $util.newBuffer([]);\n  Data.prototype.filesize = $util.Long ? $util.Long.fromBits(0, 0, true) : 0;\n  Data.prototype.blocksizes = $util.emptyArray;\n  Data.prototype.hashType = $util.Long ? $util.Long.fromBits(0, 0, true) : 0;\n  Data.prototype.fanout = $util.Long ? $util.Long.fromBits(0, 0, true) : 0;\n  Data.prototype.mode = 0;\n  Data.prototype.mtime = null;\n  Data.encode = function encode(m, w) {\n    if (!w)\n      w = $Writer.create();\n    w.uint32(8).int32(m.Type);\n    if (m.Data != null && Object.hasOwnProperty.call(m, 'Data'))\n      w.uint32(18).bytes(m.Data);\n    if (m.filesize != null && Object.hasOwnProperty.call(m, 'filesize'))\n      w.uint32(24).uint64(m.filesize);\n    if (m.blocksizes != null && m.blocksizes.length) {\n      for (var i = 0; i < m.blocksizes.length; ++i)\n        w.uint32(32).uint64(m.blocksizes[i]);\n    }\n    if (m.hashType != null && Object.hasOwnProperty.call(m, 'hashType'))\n      w.uint32(40).uint64(m.hashType);\n    if (m.fanout != null && Object.hasOwnProperty.call(m, 'fanout'))\n      w.uint32(48).uint64(m.fanout);\n    if (m.mode != null && Object.hasOwnProperty.call(m, 'mode'))\n      w.uint32(56).uint32(m.mode);\n    if (m.mtime != null && Object.hasOwnProperty.call(m, 'mtime'))\n      $root.UnixTime.encode(m.mtime, w.uint32(66).fork()).ldelim();\n    return w;\n  };\n  Data.decode = function decode(r, l) {\n    if (!(r instanceof $Reader))\n      r = $Reader.create(r);\n    var c = l === undefined ? r.len : r.pos + l, m = new $root.Data();\n    while (r.pos < c) {\n      var t = r.uint32();\n      switch (t >>> 3) {\n      case 1:\n        m.Type = r.int32();\n        break;\n      case 2:\n        m.Data = r.bytes();\n        break;\n      case 3:\n        m.filesize = r.uint64();\n        break;\n      case 4:\n        if (!(m.blocksizes && m.blocksizes.length))\n          m.blocksizes = [];\n        if ((t & 7) === 2) {\n          var c2 = r.uint32() + r.pos;\n          while (r.pos < c2)\n            m.blocksizes.push(r.uint64());\n        } else\n          m.blocksizes.push(r.uint64());\n        break;\n      case 5:\n        m.hashType = r.uint64();\n        break;\n      case 6:\n        m.fanout = r.uint64();\n        break;\n      case 7:\n        m.mode = r.uint32();\n        break;\n      case 8:\n        m.mtime = $root.UnixTime.decode(r, r.uint32());\n        break;\n      default:\n        r.skipType(t & 7);\n        break;\n      }\n    }\n    if (!m.hasOwnProperty('Type'))\n      throw $util.ProtocolError('missing required \\'Type\\'', { instance: m });\n    return m;\n  };\n  Data.fromObject = function fromObject(d) {\n    if (d instanceof $root.Data)\n      return d;\n    var m = new $root.Data();\n    switch (d.Type) {\n    case 'Raw':\n    case 0:\n      m.Type = 0;\n      break;\n    case 'Directory':\n    case 1:\n      m.Type = 1;\n      break;\n    case 'File':\n    case 2:\n      m.Type = 2;\n      break;\n    case 'Metadata':\n    case 3:\n      m.Type = 3;\n      break;\n    case 'Symlink':\n    case 4:\n      m.Type = 4;\n      break;\n    case 'HAMTShard':\n    case 5:\n      m.Type = 5;\n      break;\n    }\n    if (d.Data != null) {\n      if (typeof d.Data === 'string')\n        $util.base64.decode(d.Data, m.Data = $util.newBuffer($util.base64.length(d.Data)), 0);\n      else if (d.Data.length)\n        m.Data = d.Data;\n    }\n    if (d.filesize != null) {\n      if ($util.Long)\n        (m.filesize = $util.Long.fromValue(d.filesize)).unsigned = true;\n      else if (typeof d.filesize === 'string')\n        m.filesize = parseInt(d.filesize, 10);\n      else if (typeof d.filesize === 'number')\n        m.filesize = d.filesize;\n      else if (typeof d.filesize === 'object')\n        m.filesize = new $util.LongBits(d.filesize.low >>> 0, d.filesize.high >>> 0).toNumber(true);\n    }\n    if (d.blocksizes) {\n      if (!Array.isArray(d.blocksizes))\n        throw TypeError('.Data.blocksizes: array expected');\n      m.blocksizes = [];\n      for (var i = 0; i < d.blocksizes.length; ++i) {\n        if ($util.Long)\n          (m.blocksizes[i] = $util.Long.fromValue(d.blocksizes[i])).unsigned = true;\n        else if (typeof d.blocksizes[i] === 'string')\n          m.blocksizes[i] = parseInt(d.blocksizes[i], 10);\n        else if (typeof d.blocksizes[i] === 'number')\n          m.blocksizes[i] = d.blocksizes[i];\n        else if (typeof d.blocksizes[i] === 'object')\n          m.blocksizes[i] = new $util.LongBits(d.blocksizes[i].low >>> 0, d.blocksizes[i].high >>> 0).toNumber(true);\n      }\n    }\n    if (d.hashType != null) {\n      if ($util.Long)\n        (m.hashType = $util.Long.fromValue(d.hashType)).unsigned = true;\n      else if (typeof d.hashType === 'string')\n        m.hashType = parseInt(d.hashType, 10);\n      else if (typeof d.hashType === 'number')\n        m.hashType = d.hashType;\n      else if (typeof d.hashType === 'object')\n        m.hashType = new $util.LongBits(d.hashType.low >>> 0, d.hashType.high >>> 0).toNumber(true);\n    }\n    if (d.fanout != null) {\n      if ($util.Long)\n        (m.fanout = $util.Long.fromValue(d.fanout)).unsigned = true;\n      else if (typeof d.fanout === 'string')\n        m.fanout = parseInt(d.fanout, 10);\n      else if (typeof d.fanout === 'number')\n        m.fanout = d.fanout;\n      else if (typeof d.fanout === 'object')\n        m.fanout = new $util.LongBits(d.fanout.low >>> 0, d.fanout.high >>> 0).toNumber(true);\n    }\n    if (d.mode != null) {\n      m.mode = d.mode >>> 0;\n    }\n    if (d.mtime != null) {\n      if (typeof d.mtime !== 'object')\n        throw TypeError('.Data.mtime: object expected');\n      m.mtime = $root.UnixTime.fromObject(d.mtime);\n    }\n    return m;\n  };\n  Data.toObject = function toObject(m, o) {\n    if (!o)\n      o = {};\n    var d = {};\n    if (o.arrays || o.defaults) {\n      d.blocksizes = [];\n    }\n    if (o.defaults) {\n      d.Type = o.enums === String ? 'Raw' : 0;\n      if (o.bytes === String)\n        d.Data = '';\n      else {\n        d.Data = [];\n        if (o.bytes !== Array)\n          d.Data = $util.newBuffer(d.Data);\n      }\n      if ($util.Long) {\n        var n = new $util.Long(0, 0, true);\n        d.filesize = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n      } else\n        d.filesize = o.longs === String ? '0' : 0;\n      if ($util.Long) {\n        var n = new $util.Long(0, 0, true);\n        d.hashType = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n      } else\n        d.hashType = o.longs === String ? '0' : 0;\n      if ($util.Long) {\n        var n = new $util.Long(0, 0, true);\n        d.fanout = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n      } else\n        d.fanout = o.longs === String ? '0' : 0;\n      d.mode = 0;\n      d.mtime = null;\n    }\n    if (m.Type != null && m.hasOwnProperty('Type')) {\n      d.Type = o.enums === String ? $root.Data.DataType[m.Type] : m.Type;\n    }\n    if (m.Data != null && m.hasOwnProperty('Data')) {\n      d.Data = o.bytes === String ? $util.base64.encode(m.Data, 0, m.Data.length) : o.bytes === Array ? Array.prototype.slice.call(m.Data) : m.Data;\n    }\n    if (m.filesize != null && m.hasOwnProperty('filesize')) {\n      if (typeof m.filesize === 'number')\n        d.filesize = o.longs === String ? String(m.filesize) : m.filesize;\n      else\n        d.filesize = o.longs === String ? $util.Long.prototype.toString.call(m.filesize) : o.longs === Number ? new $util.LongBits(m.filesize.low >>> 0, m.filesize.high >>> 0).toNumber(true) : m.filesize;\n    }\n    if (m.blocksizes && m.blocksizes.length) {\n      d.blocksizes = [];\n      for (var j = 0; j < m.blocksizes.length; ++j) {\n        if (typeof m.blocksizes[j] === 'number')\n          d.blocksizes[j] = o.longs === String ? String(m.blocksizes[j]) : m.blocksizes[j];\n        else\n          d.blocksizes[j] = o.longs === String ? $util.Long.prototype.toString.call(m.blocksizes[j]) : o.longs === Number ? new $util.LongBits(m.blocksizes[j].low >>> 0, m.blocksizes[j].high >>> 0).toNumber(true) : m.blocksizes[j];\n      }\n    }\n    if (m.hashType != null && m.hasOwnProperty('hashType')) {\n      if (typeof m.hashType === 'number')\n        d.hashType = o.longs === String ? String(m.hashType) : m.hashType;\n      else\n        d.hashType = o.longs === String ? $util.Long.prototype.toString.call(m.hashType) : o.longs === Number ? new $util.LongBits(m.hashType.low >>> 0, m.hashType.high >>> 0).toNumber(true) : m.hashType;\n    }\n    if (m.fanout != null && m.hasOwnProperty('fanout')) {\n      if (typeof m.fanout === 'number')\n        d.fanout = o.longs === String ? String(m.fanout) : m.fanout;\n      else\n        d.fanout = o.longs === String ? $util.Long.prototype.toString.call(m.fanout) : o.longs === Number ? new $util.LongBits(m.fanout.low >>> 0, m.fanout.high >>> 0).toNumber(true) : m.fanout;\n    }\n    if (m.mode != null && m.hasOwnProperty('mode')) {\n      d.mode = m.mode;\n    }\n    if (m.mtime != null && m.hasOwnProperty('mtime')) {\n      d.mtime = $root.UnixTime.toObject(m.mtime, o);\n    }\n    return d;\n  };\n  Data.prototype.toJSON = function toJSON() {\n    return this.constructor.toObject(this, protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.toJSONOptions);\n  };\n  Data.DataType = function () {\n    const valuesById = {}, values = Object.create(valuesById);\n    values[valuesById[0] = 'Raw'] = 0;\n    values[valuesById[1] = 'Directory'] = 1;\n    values[valuesById[2] = 'File'] = 2;\n    values[valuesById[3] = 'Metadata'] = 3;\n    values[valuesById[4] = 'Symlink'] = 4;\n    values[valuesById[5] = 'HAMTShard'] = 5;\n    return values;\n  }();\n  return Data;\n})();\nconst UnixTime = $root.UnixTime = (() => {\n  function UnixTime(p) {\n    if (p)\n      for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n        if (p[ks[i]] != null)\n          this[ks[i]] = p[ks[i]];\n  }\n  UnixTime.prototype.Seconds = $util.Long ? $util.Long.fromBits(0, 0, false) : 0;\n  UnixTime.prototype.FractionalNanoseconds = 0;\n  UnixTime.encode = function encode(m, w) {\n    if (!w)\n      w = $Writer.create();\n    w.uint32(8).int64(m.Seconds);\n    if (m.FractionalNanoseconds != null && Object.hasOwnProperty.call(m, 'FractionalNanoseconds'))\n      w.uint32(21).fixed32(m.FractionalNanoseconds);\n    return w;\n  };\n  UnixTime.decode = function decode(r, l) {\n    if (!(r instanceof $Reader))\n      r = $Reader.create(r);\n    var c = l === undefined ? r.len : r.pos + l, m = new $root.UnixTime();\n    while (r.pos < c) {\n      var t = r.uint32();\n      switch (t >>> 3) {\n      case 1:\n        m.Seconds = r.int64();\n        break;\n      case 2:\n        m.FractionalNanoseconds = r.fixed32();\n        break;\n      default:\n        r.skipType(t & 7);\n        break;\n      }\n    }\n    if (!m.hasOwnProperty('Seconds'))\n      throw $util.ProtocolError('missing required \\'Seconds\\'', { instance: m });\n    return m;\n  };\n  UnixTime.fromObject = function fromObject(d) {\n    if (d instanceof $root.UnixTime)\n      return d;\n    var m = new $root.UnixTime();\n    if (d.Seconds != null) {\n      if ($util.Long)\n        (m.Seconds = $util.Long.fromValue(d.Seconds)).unsigned = false;\n      else if (typeof d.Seconds === 'string')\n        m.Seconds = parseInt(d.Seconds, 10);\n      else if (typeof d.Seconds === 'number')\n        m.Seconds = d.Seconds;\n      else if (typeof d.Seconds === 'object')\n        m.Seconds = new $util.LongBits(d.Seconds.low >>> 0, d.Seconds.high >>> 0).toNumber();\n    }\n    if (d.FractionalNanoseconds != null) {\n      m.FractionalNanoseconds = d.FractionalNanoseconds >>> 0;\n    }\n    return m;\n  };\n  UnixTime.toObject = function toObject(m, o) {\n    if (!o)\n      o = {};\n    var d = {};\n    if (o.defaults) {\n      if ($util.Long) {\n        var n = new $util.Long(0, 0, false);\n        d.Seconds = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n      } else\n        d.Seconds = o.longs === String ? '0' : 0;\n      d.FractionalNanoseconds = 0;\n    }\n    if (m.Seconds != null && m.hasOwnProperty('Seconds')) {\n      if (typeof m.Seconds === 'number')\n        d.Seconds = o.longs === String ? String(m.Seconds) : m.Seconds;\n      else\n        d.Seconds = o.longs === String ? $util.Long.prototype.toString.call(m.Seconds) : o.longs === Number ? new $util.LongBits(m.Seconds.low >>> 0, m.Seconds.high >>> 0).toNumber() : m.Seconds;\n    }\n    if (m.FractionalNanoseconds != null && m.hasOwnProperty('FractionalNanoseconds')) {\n      d.FractionalNanoseconds = m.FractionalNanoseconds;\n    }\n    return d;\n  };\n  UnixTime.prototype.toJSON = function toJSON() {\n    return this.constructor.toObject(this, protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.toJSONOptions);\n  };\n  return UnixTime;\n})();\nconst Metadata = $root.Metadata = (() => {\n  function Metadata(p) {\n    if (p)\n      for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n        if (p[ks[i]] != null)\n          this[ks[i]] = p[ks[i]];\n  }\n  Metadata.prototype.MimeType = '';\n  Metadata.encode = function encode(m, w) {\n    if (!w)\n      w = $Writer.create();\n    if (m.MimeType != null && Object.hasOwnProperty.call(m, 'MimeType'))\n      w.uint32(10).string(m.MimeType);\n    return w;\n  };\n  Metadata.decode = function decode(r, l) {\n    if (!(r instanceof $Reader))\n      r = $Reader.create(r);\n    var c = l === undefined ? r.len : r.pos + l, m = new $root.Metadata();\n    while (r.pos < c) {\n      var t = r.uint32();\n      switch (t >>> 3) {\n      case 1:\n        m.MimeType = r.string();\n        break;\n      default:\n        r.skipType(t & 7);\n        break;\n      }\n    }\n    return m;\n  };\n  Metadata.fromObject = function fromObject(d) {\n    if (d instanceof $root.Metadata)\n      return d;\n    var m = new $root.Metadata();\n    if (d.MimeType != null) {\n      m.MimeType = String(d.MimeType);\n    }\n    return m;\n  };\n  Metadata.toObject = function toObject(m, o) {\n    if (!o)\n      o = {};\n    var d = {};\n    if (o.defaults) {\n      d.MimeType = '';\n    }\n    if (m.MimeType != null && m.hasOwnProperty('MimeType')) {\n      d.MimeType = m.MimeType;\n    }\n    return d;\n  };\n  Metadata.prototype.toJSON = function toJSON() {\n    return this.constructor.toObject(this, protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.toJSONOptions);\n  };\n  return Metadata;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaXBmcy11bml4ZnMvZXNtL3NyYy91bml4ZnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFDOUMsZ0JBQWdCLHlEQUFnQixZQUFZLHlEQUFnQixVQUFVLHVEQUFjO0FBQ3BGLGNBQWMsd0RBQWUsb0JBQW9CLHdEQUFlLG9CQUFvQjtBQUM3RTtBQUNQO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IseUJBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxhQUFhO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlCQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5QkFBeUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFjO0FBQ3pEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxhQUFhO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFjO0FBQ3pEO0FBQ0E7QUFDQSxDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1REFBYztBQUN6RDtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2QtbWFuZGF0ZXMvLi9ub2RlX21vZHVsZXMvaXBmcy11bml4ZnMvZXNtL3NyYy91bml4ZnMuanM/NjUxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJHByb3RvYnVmIGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbC5qcyc7XG5jb25zdCAkUmVhZGVyID0gJHByb3RvYnVmLlJlYWRlciwgJFdyaXRlciA9ICRwcm90b2J1Zi5Xcml0ZXIsICR1dGlsID0gJHByb3RvYnVmLnV0aWw7XG5jb25zdCAkcm9vdCA9ICRwcm90b2J1Zi5yb290c1snaXBmcy11bml4ZnMnXSB8fCAoJHByb3RvYnVmLnJvb3RzWydpcGZzLXVuaXhmcyddID0ge30pO1xuZXhwb3J0IGNvbnN0IERhdGEgPSAkcm9vdC5EYXRhID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gRGF0YShwKSB7XG4gICAgdGhpcy5ibG9ja3NpemVzID0gW107XG4gICAgaWYgKHApXG4gICAgICBmb3IgKHZhciBrcyA9IE9iamVjdC5rZXlzKHApLCBpID0gMDsgaSA8IGtzLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAocFtrc1tpXV0gIT0gbnVsbClcbiAgICAgICAgICB0aGlzW2tzW2ldXSA9IHBba3NbaV1dO1xuICB9XG4gIERhdGEucHJvdG90eXBlLlR5cGUgPSAwO1xuICBEYXRhLnByb3RvdHlwZS5EYXRhID0gJHV0aWwubmV3QnVmZmVyKFtdKTtcbiAgRGF0YS5wcm90b3R5cGUuZmlsZXNpemUgPSAkdXRpbC5Mb25nID8gJHV0aWwuTG9uZy5mcm9tQml0cygwLCAwLCB0cnVlKSA6IDA7XG4gIERhdGEucHJvdG90eXBlLmJsb2Nrc2l6ZXMgPSAkdXRpbC5lbXB0eUFycmF5O1xuICBEYXRhLnByb3RvdHlwZS5oYXNoVHlwZSA9ICR1dGlsLkxvbmcgPyAkdXRpbC5Mb25nLmZyb21CaXRzKDAsIDAsIHRydWUpIDogMDtcbiAgRGF0YS5wcm90b3R5cGUuZmFub3V0ID0gJHV0aWwuTG9uZyA/ICR1dGlsLkxvbmcuZnJvbUJpdHMoMCwgMCwgdHJ1ZSkgOiAwO1xuICBEYXRhLnByb3RvdHlwZS5tb2RlID0gMDtcbiAgRGF0YS5wcm90b3R5cGUubXRpbWUgPSBudWxsO1xuICBEYXRhLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtLCB3KSB7XG4gICAgaWYgKCF3KVxuICAgICAgdyA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgdy51aW50MzIoOCkuaW50MzIobS5UeXBlKTtcbiAgICBpZiAobS5EYXRhICE9IG51bGwgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwgJ0RhdGEnKSlcbiAgICAgIHcudWludDMyKDE4KS5ieXRlcyhtLkRhdGEpO1xuICAgIGlmIChtLmZpbGVzaXplICE9IG51bGwgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwgJ2ZpbGVzaXplJykpXG4gICAgICB3LnVpbnQzMigyNCkudWludDY0KG0uZmlsZXNpemUpO1xuICAgIGlmIChtLmJsb2Nrc2l6ZXMgIT0gbnVsbCAmJiBtLmJsb2Nrc2l6ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0uYmxvY2tzaXplcy5sZW5ndGg7ICsraSlcbiAgICAgICAgdy51aW50MzIoMzIpLnVpbnQ2NChtLmJsb2Nrc2l6ZXNbaV0pO1xuICAgIH1cbiAgICBpZiAobS5oYXNoVHlwZSAhPSBudWxsICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sICdoYXNoVHlwZScpKVxuICAgICAgdy51aW50MzIoNDApLnVpbnQ2NChtLmhhc2hUeXBlKTtcbiAgICBpZiAobS5mYW5vdXQgIT0gbnVsbCAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtLCAnZmFub3V0JykpXG4gICAgICB3LnVpbnQzMig0OCkudWludDY0KG0uZmFub3V0KTtcbiAgICBpZiAobS5tb2RlICE9IG51bGwgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwgJ21vZGUnKSlcbiAgICAgIHcudWludDMyKDU2KS51aW50MzIobS5tb2RlKTtcbiAgICBpZiAobS5tdGltZSAhPSBudWxsICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sICdtdGltZScpKVxuICAgICAgJHJvb3QuVW5peFRpbWUuZW5jb2RlKG0ubXRpbWUsIHcudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIHJldHVybiB3O1xuICB9O1xuICBEYXRhLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyLCBsKSB7XG4gICAgaWYgKCEociBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgciA9ICRSZWFkZXIuY3JlYXRlKHIpO1xuICAgIHZhciBjID0gbCA9PT0gdW5kZWZpbmVkID8gci5sZW4gOiByLnBvcyArIGwsIG0gPSBuZXcgJHJvb3QuRGF0YSgpO1xuICAgIHdoaWxlIChyLnBvcyA8IGMpIHtcbiAgICAgIHZhciB0ID0gci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodCA+Pj4gMykge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBtLlR5cGUgPSByLmludDMyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBtLkRhdGEgPSByLmJ5dGVzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBtLmZpbGVzaXplID0gci51aW50NjQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIGlmICghKG0uYmxvY2tzaXplcyAmJiBtLmJsb2Nrc2l6ZXMubGVuZ3RoKSlcbiAgICAgICAgICBtLmJsb2Nrc2l6ZXMgPSBbXTtcbiAgICAgICAgaWYgKCh0ICYgNykgPT09IDIpIHtcbiAgICAgICAgICB2YXIgYzIgPSByLnVpbnQzMigpICsgci5wb3M7XG4gICAgICAgICAgd2hpbGUgKHIucG9zIDwgYzIpXG4gICAgICAgICAgICBtLmJsb2Nrc2l6ZXMucHVzaChyLnVpbnQ2NCgpKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgbS5ibG9ja3NpemVzLnB1c2goci51aW50NjQoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1OlxuICAgICAgICBtLmhhc2hUeXBlID0gci51aW50NjQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIG0uZmFub3V0ID0gci51aW50NjQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDc6XG4gICAgICAgIG0ubW9kZSA9IHIudWludDMyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA4OlxuICAgICAgICBtLm10aW1lID0gJHJvb3QuVW5peFRpbWUuZGVjb2RlKHIsIHIudWludDMyKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHIuc2tpcFR5cGUodCAmIDcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtLmhhc093blByb3BlcnR5KCdUeXBlJykpXG4gICAgICB0aHJvdyAkdXRpbC5Qcm90b2NvbEVycm9yKCdtaXNzaW5nIHJlcXVpcmVkIFxcJ1R5cGVcXCcnLCB7IGluc3RhbmNlOiBtIH0pO1xuICAgIHJldHVybiBtO1xuICB9O1xuICBEYXRhLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KGQpIHtcbiAgICBpZiAoZCBpbnN0YW5jZW9mICRyb290LkRhdGEpXG4gICAgICByZXR1cm4gZDtcbiAgICB2YXIgbSA9IG5ldyAkcm9vdC5EYXRhKCk7XG4gICAgc3dpdGNoIChkLlR5cGUpIHtcbiAgICBjYXNlICdSYXcnOlxuICAgIGNhc2UgMDpcbiAgICAgIG0uVHlwZSA9IDA7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdEaXJlY3RvcnknOlxuICAgIGNhc2UgMTpcbiAgICAgIG0uVHlwZSA9IDE7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdGaWxlJzpcbiAgICBjYXNlIDI6XG4gICAgICBtLlR5cGUgPSAyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTWV0YWRhdGEnOlxuICAgIGNhc2UgMzpcbiAgICAgIG0uVHlwZSA9IDM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdTeW1saW5rJzpcbiAgICBjYXNlIDQ6XG4gICAgICBtLlR5cGUgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnSEFNVFNoYXJkJzpcbiAgICBjYXNlIDU6XG4gICAgICBtLlR5cGUgPSA1O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChkLkRhdGEgIT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiBkLkRhdGEgPT09ICdzdHJpbmcnKVxuICAgICAgICAkdXRpbC5iYXNlNjQuZGVjb2RlKGQuRGF0YSwgbS5EYXRhID0gJHV0aWwubmV3QnVmZmVyKCR1dGlsLmJhc2U2NC5sZW5ndGgoZC5EYXRhKSksIDApO1xuICAgICAgZWxzZSBpZiAoZC5EYXRhLmxlbmd0aClcbiAgICAgICAgbS5EYXRhID0gZC5EYXRhO1xuICAgIH1cbiAgICBpZiAoZC5maWxlc2l6ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoJHV0aWwuTG9uZylcbiAgICAgICAgKG0uZmlsZXNpemUgPSAkdXRpbC5Mb25nLmZyb21WYWx1ZShkLmZpbGVzaXplKSkudW5zaWduZWQgPSB0cnVlO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIGQuZmlsZXNpemUgPT09ICdzdHJpbmcnKVxuICAgICAgICBtLmZpbGVzaXplID0gcGFyc2VJbnQoZC5maWxlc2l6ZSwgMTApO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIGQuZmlsZXNpemUgPT09ICdudW1iZXInKVxuICAgICAgICBtLmZpbGVzaXplID0gZC5maWxlc2l6ZTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLmZpbGVzaXplID09PSAnb2JqZWN0JylcbiAgICAgICAgbS5maWxlc2l6ZSA9IG5ldyAkdXRpbC5Mb25nQml0cyhkLmZpbGVzaXplLmxvdyA+Pj4gMCwgZC5maWxlc2l6ZS5oaWdoID4+PiAwKS50b051bWJlcih0cnVlKTtcbiAgICB9XG4gICAgaWYgKGQuYmxvY2tzaXplcykge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGQuYmxvY2tzaXplcykpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcignLkRhdGEuYmxvY2tzaXplczogYXJyYXkgZXhwZWN0ZWQnKTtcbiAgICAgIG0uYmxvY2tzaXplcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmJsb2Nrc2l6ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCR1dGlsLkxvbmcpXG4gICAgICAgICAgKG0uYmxvY2tzaXplc1tpXSA9ICR1dGlsLkxvbmcuZnJvbVZhbHVlKGQuYmxvY2tzaXplc1tpXSkpLnVuc2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGQuYmxvY2tzaXplc1tpXSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgbS5ibG9ja3NpemVzW2ldID0gcGFyc2VJbnQoZC5ibG9ja3NpemVzW2ldLCAxMCk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLmJsb2Nrc2l6ZXNbaV0gPT09ICdudW1iZXInKVxuICAgICAgICAgIG0uYmxvY2tzaXplc1tpXSA9IGQuYmxvY2tzaXplc1tpXTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGQuYmxvY2tzaXplc1tpXSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgbS5ibG9ja3NpemVzW2ldID0gbmV3ICR1dGlsLkxvbmdCaXRzKGQuYmxvY2tzaXplc1tpXS5sb3cgPj4+IDAsIGQuYmxvY2tzaXplc1tpXS5oaWdoID4+PiAwKS50b051bWJlcih0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGQuaGFzaFR5cGUgIT0gbnVsbCkge1xuICAgICAgaWYgKCR1dGlsLkxvbmcpXG4gICAgICAgIChtLmhhc2hUeXBlID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUoZC5oYXNoVHlwZSkpLnVuc2lnbmVkID0gdHJ1ZTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLmhhc2hUeXBlID09PSAnc3RyaW5nJylcbiAgICAgICAgbS5oYXNoVHlwZSA9IHBhcnNlSW50KGQuaGFzaFR5cGUsIDEwKTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLmhhc2hUeXBlID09PSAnbnVtYmVyJylcbiAgICAgICAgbS5oYXNoVHlwZSA9IGQuaGFzaFR5cGU7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZC5oYXNoVHlwZSA9PT0gJ29iamVjdCcpXG4gICAgICAgIG0uaGFzaFR5cGUgPSBuZXcgJHV0aWwuTG9uZ0JpdHMoZC5oYXNoVHlwZS5sb3cgPj4+IDAsIGQuaGFzaFR5cGUuaGlnaCA+Pj4gMCkudG9OdW1iZXIodHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkLmZhbm91dCAhPSBudWxsKSB7XG4gICAgICBpZiAoJHV0aWwuTG9uZylcbiAgICAgICAgKG0uZmFub3V0ID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUoZC5mYW5vdXQpKS51bnNpZ25lZCA9IHRydWU7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZC5mYW5vdXQgPT09ICdzdHJpbmcnKVxuICAgICAgICBtLmZhbm91dCA9IHBhcnNlSW50KGQuZmFub3V0LCAxMCk7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZC5mYW5vdXQgPT09ICdudW1iZXInKVxuICAgICAgICBtLmZhbm91dCA9IGQuZmFub3V0O1xuICAgICAgZWxzZSBpZiAodHlwZW9mIGQuZmFub3V0ID09PSAnb2JqZWN0JylcbiAgICAgICAgbS5mYW5vdXQgPSBuZXcgJHV0aWwuTG9uZ0JpdHMoZC5mYW5vdXQubG93ID4+PiAwLCBkLmZhbm91dC5oaWdoID4+PiAwKS50b051bWJlcih0cnVlKTtcbiAgICB9XG4gICAgaWYgKGQubW9kZSAhPSBudWxsKSB7XG4gICAgICBtLm1vZGUgPSBkLm1vZGUgPj4+IDA7XG4gICAgfVxuICAgIGlmIChkLm10aW1lICE9IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgZC5tdGltZSAhPT0gJ29iamVjdCcpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcignLkRhdGEubXRpbWU6IG9iamVjdCBleHBlY3RlZCcpO1xuICAgICAgbS5tdGltZSA9ICRyb290LlVuaXhUaW1lLmZyb21PYmplY3QoZC5tdGltZSk7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9O1xuICBEYXRhLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobSwgbykge1xuICAgIGlmICghbylcbiAgICAgIG8gPSB7fTtcbiAgICB2YXIgZCA9IHt9O1xuICAgIGlmIChvLmFycmF5cyB8fCBvLmRlZmF1bHRzKSB7XG4gICAgICBkLmJsb2Nrc2l6ZXMgPSBbXTtcbiAgICB9XG4gICAgaWYgKG8uZGVmYXVsdHMpIHtcbiAgICAgIGQuVHlwZSA9IG8uZW51bXMgPT09IFN0cmluZyA/ICdSYXcnIDogMDtcbiAgICAgIGlmIChvLmJ5dGVzID09PSBTdHJpbmcpXG4gICAgICAgIGQuRGF0YSA9ICcnO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGQuRGF0YSA9IFtdO1xuICAgICAgICBpZiAoby5ieXRlcyAhPT0gQXJyYXkpXG4gICAgICAgICAgZC5EYXRhID0gJHV0aWwubmV3QnVmZmVyKGQuRGF0YSk7XG4gICAgICB9XG4gICAgICBpZiAoJHV0aWwuTG9uZykge1xuICAgICAgICB2YXIgbiA9IG5ldyAkdXRpbC5Mb25nKDAsIDAsIHRydWUpO1xuICAgICAgICBkLmZpbGVzaXplID0gby5sb25ncyA9PT0gU3RyaW5nID8gbi50b1N0cmluZygpIDogby5sb25ncyA9PT0gTnVtYmVyID8gbi50b051bWJlcigpIDogbjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBkLmZpbGVzaXplID0gby5sb25ncyA9PT0gU3RyaW5nID8gJzAnIDogMDtcbiAgICAgIGlmICgkdXRpbC5Mb25nKSB7XG4gICAgICAgIHZhciBuID0gbmV3ICR1dGlsLkxvbmcoMCwgMCwgdHJ1ZSk7XG4gICAgICAgIGQuaGFzaFR5cGUgPSBvLmxvbmdzID09PSBTdHJpbmcgPyBuLnRvU3RyaW5nKCkgOiBvLmxvbmdzID09PSBOdW1iZXIgPyBuLnRvTnVtYmVyKCkgOiBuO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGQuaGFzaFR5cGUgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAnMCcgOiAwO1xuICAgICAgaWYgKCR1dGlsLkxvbmcpIHtcbiAgICAgICAgdmFyIG4gPSBuZXcgJHV0aWwuTG9uZygwLCAwLCB0cnVlKTtcbiAgICAgICAgZC5mYW5vdXQgPSBvLmxvbmdzID09PSBTdHJpbmcgPyBuLnRvU3RyaW5nKCkgOiBvLmxvbmdzID09PSBOdW1iZXIgPyBuLnRvTnVtYmVyKCkgOiBuO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGQuZmFub3V0ID0gby5sb25ncyA9PT0gU3RyaW5nID8gJzAnIDogMDtcbiAgICAgIGQubW9kZSA9IDA7XG4gICAgICBkLm10aW1lID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG0uVHlwZSAhPSBudWxsICYmIG0uaGFzT3duUHJvcGVydHkoJ1R5cGUnKSkge1xuICAgICAgZC5UeXBlID0gby5lbnVtcyA9PT0gU3RyaW5nID8gJHJvb3QuRGF0YS5EYXRhVHlwZVttLlR5cGVdIDogbS5UeXBlO1xuICAgIH1cbiAgICBpZiAobS5EYXRhICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnRGF0YScpKSB7XG4gICAgICBkLkRhdGEgPSBvLmJ5dGVzID09PSBTdHJpbmcgPyAkdXRpbC5iYXNlNjQuZW5jb2RlKG0uRGF0YSwgMCwgbS5EYXRhLmxlbmd0aCkgOiBvLmJ5dGVzID09PSBBcnJheSA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG0uRGF0YSkgOiBtLkRhdGE7XG4gICAgfVxuICAgIGlmIChtLmZpbGVzaXplICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnZmlsZXNpemUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBtLmZpbGVzaXplID09PSAnbnVtYmVyJylcbiAgICAgICAgZC5maWxlc2l6ZSA9IG8ubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtLmZpbGVzaXplKSA6IG0uZmlsZXNpemU7XG4gICAgICBlbHNlXG4gICAgICAgIGQuZmlsZXNpemUgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG0uZmlsZXNpemUpIDogby5sb25ncyA9PT0gTnVtYmVyID8gbmV3ICR1dGlsLkxvbmdCaXRzKG0uZmlsZXNpemUubG93ID4+PiAwLCBtLmZpbGVzaXplLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpIDogbS5maWxlc2l6ZTtcbiAgICB9XG4gICAgaWYgKG0uYmxvY2tzaXplcyAmJiBtLmJsb2Nrc2l6ZXMubGVuZ3RoKSB7XG4gICAgICBkLmJsb2Nrc2l6ZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbS5ibG9ja3NpemVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbS5ibG9ja3NpemVzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICBkLmJsb2Nrc2l6ZXNbal0gPSBvLmxvbmdzID09PSBTdHJpbmcgPyBTdHJpbmcobS5ibG9ja3NpemVzW2pdKSA6IG0uYmxvY2tzaXplc1tqXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGQuYmxvY2tzaXplc1tqXSA9IG8ubG9uZ3MgPT09IFN0cmluZyA/ICR1dGlsLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobS5ibG9ja3NpemVzW2pdKSA6IG8ubG9uZ3MgPT09IE51bWJlciA/IG5ldyAkdXRpbC5Mb25nQml0cyhtLmJsb2Nrc2l6ZXNbal0ubG93ID4+PiAwLCBtLmJsb2Nrc2l6ZXNbal0uaGlnaCA+Pj4gMCkudG9OdW1iZXIodHJ1ZSkgOiBtLmJsb2Nrc2l6ZXNbal07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtLmhhc2hUeXBlICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnaGFzaFR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBtLmhhc2hUeXBlID09PSAnbnVtYmVyJylcbiAgICAgICAgZC5oYXNoVHlwZSA9IG8ubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtLmhhc2hUeXBlKSA6IG0uaGFzaFR5cGU7XG4gICAgICBlbHNlXG4gICAgICAgIGQuaGFzaFR5cGUgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG0uaGFzaFR5cGUpIDogby5sb25ncyA9PT0gTnVtYmVyID8gbmV3ICR1dGlsLkxvbmdCaXRzKG0uaGFzaFR5cGUubG93ID4+PiAwLCBtLmhhc2hUeXBlLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpIDogbS5oYXNoVHlwZTtcbiAgICB9XG4gICAgaWYgKG0uZmFub3V0ICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnZmFub3V0JykpIHtcbiAgICAgIGlmICh0eXBlb2YgbS5mYW5vdXQgPT09ICdudW1iZXInKVxuICAgICAgICBkLmZhbm91dCA9IG8ubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtLmZhbm91dCkgOiBtLmZhbm91dDtcbiAgICAgIGVsc2VcbiAgICAgICAgZC5mYW5vdXQgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG0uZmFub3V0KSA6IG8ubG9uZ3MgPT09IE51bWJlciA/IG5ldyAkdXRpbC5Mb25nQml0cyhtLmZhbm91dC5sb3cgPj4+IDAsIG0uZmFub3V0LmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpIDogbS5mYW5vdXQ7XG4gICAgfVxuICAgIGlmIChtLm1vZGUgIT0gbnVsbCAmJiBtLmhhc093blByb3BlcnR5KCdtb2RlJykpIHtcbiAgICAgIGQubW9kZSA9IG0ubW9kZTtcbiAgICB9XG4gICAgaWYgKG0ubXRpbWUgIT0gbnVsbCAmJiBtLmhhc093blByb3BlcnR5KCdtdGltZScpKSB7XG4gICAgICBkLm10aW1lID0gJHJvb3QuVW5peFRpbWUudG9PYmplY3QobS5tdGltZSwgbyk7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gIH07XG4gIERhdGEuRGF0YVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsdWVzQnlJZCA9IHt9LCB2YWx1ZXMgPSBPYmplY3QuY3JlYXRlKHZhbHVlc0J5SWQpO1xuICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzBdID0gJ1JhdyddID0gMDtcbiAgICB2YWx1ZXNbdmFsdWVzQnlJZFsxXSA9ICdEaXJlY3RvcnknXSA9IDE7XG4gICAgdmFsdWVzW3ZhbHVlc0J5SWRbMl0gPSAnRmlsZSddID0gMjtcbiAgICB2YWx1ZXNbdmFsdWVzQnlJZFszXSA9ICdNZXRhZGF0YSddID0gMztcbiAgICB2YWx1ZXNbdmFsdWVzQnlJZFs0XSA9ICdTeW1saW5rJ10gPSA0O1xuICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzVdID0gJ0hBTVRTaGFyZCddID0gNTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KCk7XG4gIHJldHVybiBEYXRhO1xufSkoKTtcbmV4cG9ydCBjb25zdCBVbml4VGltZSA9ICRyb290LlVuaXhUaW1lID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gVW5peFRpbWUocCkge1xuICAgIGlmIChwKVxuICAgICAgZm9yICh2YXIga3MgPSBPYmplY3Qua2V5cyhwKSwgaSA9IDA7IGkgPCBrcy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKHBba3NbaV1dICE9IG51bGwpXG4gICAgICAgICAgdGhpc1trc1tpXV0gPSBwW2tzW2ldXTtcbiAgfVxuICBVbml4VGltZS5wcm90b3R5cGUuU2Vjb25kcyA9ICR1dGlsLkxvbmcgPyAkdXRpbC5Mb25nLmZyb21CaXRzKDAsIDAsIGZhbHNlKSA6IDA7XG4gIFVuaXhUaW1lLnByb3RvdHlwZS5GcmFjdGlvbmFsTmFub3NlY29uZHMgPSAwO1xuICBVbml4VGltZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobSwgdykge1xuICAgIGlmICghdylcbiAgICAgIHcgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgIHcudWludDMyKDgpLmludDY0KG0uU2Vjb25kcyk7XG4gICAgaWYgKG0uRnJhY3Rpb25hbE5hbm9zZWNvbmRzICE9IG51bGwgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwgJ0ZyYWN0aW9uYWxOYW5vc2Vjb25kcycpKVxuICAgICAgdy51aW50MzIoMjEpLmZpeGVkMzIobS5GcmFjdGlvbmFsTmFub3NlY29uZHMpO1xuICAgIHJldHVybiB3O1xuICB9O1xuICBVbml4VGltZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUociwgbCkge1xuICAgIGlmICghKHIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgIHIgPSAkUmVhZGVyLmNyZWF0ZShyKTtcbiAgICB2YXIgYyA9IGwgPT09IHVuZGVmaW5lZCA/IHIubGVuIDogci5wb3MgKyBsLCBtID0gbmV3ICRyb290LlVuaXhUaW1lKCk7XG4gICAgd2hpbGUgKHIucG9zIDwgYykge1xuICAgICAgdmFyIHQgPSByLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0ID4+PiAzKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIG0uU2Vjb25kcyA9IHIuaW50NjQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG0uRnJhY3Rpb25hbE5hbm9zZWNvbmRzID0gci5maXhlZDMyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgci5za2lwVHlwZSh0ICYgNyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW0uaGFzT3duUHJvcGVydHkoJ1NlY29uZHMnKSlcbiAgICAgIHRocm93ICR1dGlsLlByb3RvY29sRXJyb3IoJ21pc3NpbmcgcmVxdWlyZWQgXFwnU2Vjb25kc1xcJycsIHsgaW5zdGFuY2U6IG0gfSk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIFVuaXhUaW1lLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KGQpIHtcbiAgICBpZiAoZCBpbnN0YW5jZW9mICRyb290LlVuaXhUaW1lKVxuICAgICAgcmV0dXJuIGQ7XG4gICAgdmFyIG0gPSBuZXcgJHJvb3QuVW5peFRpbWUoKTtcbiAgICBpZiAoZC5TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgIGlmICgkdXRpbC5Mb25nKVxuICAgICAgICAobS5TZWNvbmRzID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUoZC5TZWNvbmRzKSkudW5zaWduZWQgPSBmYWxzZTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLlNlY29uZHMgPT09ICdzdHJpbmcnKVxuICAgICAgICBtLlNlY29uZHMgPSBwYXJzZUludChkLlNlY29uZHMsIDEwKTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkLlNlY29uZHMgPT09ICdudW1iZXInKVxuICAgICAgICBtLlNlY29uZHMgPSBkLlNlY29uZHM7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZC5TZWNvbmRzID09PSAnb2JqZWN0JylcbiAgICAgICAgbS5TZWNvbmRzID0gbmV3ICR1dGlsLkxvbmdCaXRzKGQuU2Vjb25kcy5sb3cgPj4+IDAsIGQuU2Vjb25kcy5oaWdoID4+PiAwKS50b051bWJlcigpO1xuICAgIH1cbiAgICBpZiAoZC5GcmFjdGlvbmFsTmFub3NlY29uZHMgIT0gbnVsbCkge1xuICAgICAgbS5GcmFjdGlvbmFsTmFub3NlY29uZHMgPSBkLkZyYWN0aW9uYWxOYW5vc2Vjb25kcyA+Pj4gMDtcbiAgICB9XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIFVuaXhUaW1lLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobSwgbykge1xuICAgIGlmICghbylcbiAgICAgIG8gPSB7fTtcbiAgICB2YXIgZCA9IHt9O1xuICAgIGlmIChvLmRlZmF1bHRzKSB7XG4gICAgICBpZiAoJHV0aWwuTG9uZykge1xuICAgICAgICB2YXIgbiA9IG5ldyAkdXRpbC5Mb25nKDAsIDAsIGZhbHNlKTtcbiAgICAgICAgZC5TZWNvbmRzID0gby5sb25ncyA9PT0gU3RyaW5nID8gbi50b1N0cmluZygpIDogby5sb25ncyA9PT0gTnVtYmVyID8gbi50b051bWJlcigpIDogbjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBkLlNlY29uZHMgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAnMCcgOiAwO1xuICAgICAgZC5GcmFjdGlvbmFsTmFub3NlY29uZHMgPSAwO1xuICAgIH1cbiAgICBpZiAobS5TZWNvbmRzICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnU2Vjb25kcycpKSB7XG4gICAgICBpZiAodHlwZW9mIG0uU2Vjb25kcyA9PT0gJ251bWJlcicpXG4gICAgICAgIGQuU2Vjb25kcyA9IG8ubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtLlNlY29uZHMpIDogbS5TZWNvbmRzO1xuICAgICAgZWxzZVxuICAgICAgICBkLlNlY29uZHMgPSBvLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG0uU2Vjb25kcykgOiBvLmxvbmdzID09PSBOdW1iZXIgPyBuZXcgJHV0aWwuTG9uZ0JpdHMobS5TZWNvbmRzLmxvdyA+Pj4gMCwgbS5TZWNvbmRzLmhpZ2ggPj4+IDApLnRvTnVtYmVyKCkgOiBtLlNlY29uZHM7XG4gICAgfVxuICAgIGlmIChtLkZyYWN0aW9uYWxOYW5vc2Vjb25kcyAhPSBudWxsICYmIG0uaGFzT3duUHJvcGVydHkoJ0ZyYWN0aW9uYWxOYW5vc2Vjb25kcycpKSB7XG4gICAgICBkLkZyYWN0aW9uYWxOYW5vc2Vjb25kcyA9IG0uRnJhY3Rpb25hbE5hbm9zZWNvbmRzO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfTtcbiAgVW5peFRpbWUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgfTtcbiAgcmV0dXJuIFVuaXhUaW1lO1xufSkoKTtcbmV4cG9ydCBjb25zdCBNZXRhZGF0YSA9ICRyb290Lk1ldGFkYXRhID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gTWV0YWRhdGEocCkge1xuICAgIGlmIChwKVxuICAgICAgZm9yICh2YXIga3MgPSBPYmplY3Qua2V5cyhwKSwgaSA9IDA7IGkgPCBrcy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKHBba3NbaV1dICE9IG51bGwpXG4gICAgICAgICAgdGhpc1trc1tpXV0gPSBwW2tzW2ldXTtcbiAgfVxuICBNZXRhZGF0YS5wcm90b3R5cGUuTWltZVR5cGUgPSAnJztcbiAgTWV0YWRhdGEuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG0sIHcpIHtcbiAgICBpZiAoIXcpXG4gICAgICB3ID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICBpZiAobS5NaW1lVHlwZSAhPSBudWxsICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sICdNaW1lVHlwZScpKVxuICAgICAgdy51aW50MzIoMTApLnN0cmluZyhtLk1pbWVUeXBlKTtcbiAgICByZXR1cm4gdztcbiAgfTtcbiAgTWV0YWRhdGEuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHIsIGwpIHtcbiAgICBpZiAoIShyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICByID0gJFJlYWRlci5jcmVhdGUocik7XG4gICAgdmFyIGMgPSBsID09PSB1bmRlZmluZWQgPyByLmxlbiA6IHIucG9zICsgbCwgbSA9IG5ldyAkcm9vdC5NZXRhZGF0YSgpO1xuICAgIHdoaWxlIChyLnBvcyA8IGMpIHtcbiAgICAgIHZhciB0ID0gci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodCA+Pj4gMykge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBtLk1pbWVUeXBlID0gci5zdHJpbmcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByLnNraXBUeXBlKHQgJiA3KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9O1xuICBNZXRhZGF0YS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChkKSB7XG4gICAgaWYgKGQgaW5zdGFuY2VvZiAkcm9vdC5NZXRhZGF0YSlcbiAgICAgIHJldHVybiBkO1xuICAgIHZhciBtID0gbmV3ICRyb290Lk1ldGFkYXRhKCk7XG4gICAgaWYgKGQuTWltZVR5cGUgIT0gbnVsbCkge1xuICAgICAgbS5NaW1lVHlwZSA9IFN0cmluZyhkLk1pbWVUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIE1ldGFkYXRhLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobSwgbykge1xuICAgIGlmICghbylcbiAgICAgIG8gPSB7fTtcbiAgICB2YXIgZCA9IHt9O1xuICAgIGlmIChvLmRlZmF1bHRzKSB7XG4gICAgICBkLk1pbWVUeXBlID0gJyc7XG4gICAgfVxuICAgIGlmIChtLk1pbWVUeXBlICE9IG51bGwgJiYgbS5oYXNPd25Qcm9wZXJ0eSgnTWltZVR5cGUnKSkge1xuICAgICAgZC5NaW1lVHlwZSA9IG0uTWltZVR5cGU7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9O1xuICBNZXRhZGF0YS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICB9O1xuICByZXR1cm4gTWV0YWRhdGE7XG59KSgpO1xuZXhwb3J0IHtcbiAgJHJvb3QgYXMgZGVmYXVsdFxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/ipfs-unixfs/esm/src/unixfs.js\n");

/***/ })

};
;